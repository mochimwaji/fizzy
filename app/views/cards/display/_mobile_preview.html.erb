<%# Simplified mobile card preview - less detailed, but still clickable to view full card %>
<% draggable = local_assigns.fetch(:draggable, false) && card.published? %>

<%= card_article_tag card, class: "card card--mobile-preview", draggable: draggable, data: { id: card.number, drag_and_drop_target: "item", navigable_list_target: "item" }, tabindex: 0 do %>
  <div class="flex flex-column flex-item-grow max-inline-size">
    <%= link_to card_path(card), draggable: false, class: "card__link", title: card_title_tag(card), data: { turbo_frame: "_top" } do %>
      <span class="for-screen-reader"><%= card.title %></span>
    <% end %>

    <header class="card__header">
      <%= render "cards/display/preview/board", card: card %>
      <%= render "cards/display/preview/tags", card: card %>
      <%= render "cards/display/preview/steps", card: card %>
      <%= icon_tag "attachment", class: "card__attachments-indicator translucent" if card.has_attachments? %>
    </header>

    <div class="card__body">
      <div class="card__content">
        <h3 class="card__title overflow-line-clamp">
          <%= card.title %>
        </h3>
      </div>
    </div>
  </div>

  <% if card.entropic? %>
    <%= render "cards/display/preview/bubble", card: card %>
  <% end %>
<% end %>
